<!DOCTYPE html>
function updateWeight(){
const v = parseFloat(weightVal.value);
if (!isFinite(v) || v <= 0){ weightOutput.textContent = 'Converted: —'; updateBMI(); return; }
if (weightUnit.value === 'kg'){
const lb = v * lbPerKg;
weightOutput.textContent = `Converted: ${round(lb)} lb`;
} else {
const kg = v / lbPerKg;
weightOutput.textContent = `Converted: ${round(kg)} kg`;
}
updateBMI();
}


function updateBMI(){
const h = parseFloat(heightVal.value);
const w = parseFloat(weightVal.value);
if (!isFinite(h) || !isFinite(w) || h <= 0 || w <= 0){ bmiValue.textContent = 'BMI: —'; bmiNote.textContent = 'Provide height and weight to calculate BMI'; return; }


let heightMeters = heightUnit.value === 'cm' ? (h/100) : (h * cmPerIn / 100);
let weightKg = weightUnit.value === 'kg' ? w : (w / lbPerKg);


if (heightMeters <= 0){ bmiValue.textContent = 'BMI: —'; return; }
const bmi = weightKg / (heightMeters * heightMeters);
let category = '';
if (bmi < 18.5) category = 'Underweight';
else if (bmi < 25) category = 'Normal';
else if (bmi < 30) category = 'Overweight';
else category = 'Obese';


bmiValue.textContent = `BMI: ${round(bmi)} (${category})`;
bmiNote.textContent = `Height in ${heightUnit.value}, Weight in ${weightUnit.value}`;
}


// event listeners
heightVal.addEventListener('input', updateHeight);
heightUnit.addEventListener('change', updateHeight);


weightVal.addEventListener('input', updateWeight);
weightUnit.addEventListener('change', updateWeight);


resetBtn.addEventListener('click', ()=>{
heightVal.value = '';
weightVal.value = '';
heightUnit.value = 'cm';
weightUnit.value = 'kg';
updateHeight();
updateWeight();
});


// initial state
updateHeight();
updateWeight();
</script>
</body>
</html>